#!/usr/bin/env node
"use strict";var he=require("tty"),me=require("path"),pe=require("fs"),wr=require("module"),ye=require("util"),ge=require("constants"),Be=require("stream"),we=require("assert");function q(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var ve=q(he),S=q(me),I=q(pe),iu=q(ye),$e=q(ge),Ae=q(Be),Qu=q(we);const Se="known-flag",be="unknown-flag",Oe="argument",{stringify:Q}=JSON,Ne=/\B([A-Z])/g,Te=u=>u.replace(Ne,"-$1").toLowerCase(),{hasOwnProperty:_e}=Object.prototype,uu=(u,D)=>_e.call(u,D),ke=u=>Array.isArray(u),uD=u=>typeof u=="function"?[u,!1]:ke(u)?[u[0],!0]:uD(u.type),xe=(u,D)=>u===Boolean?D!=="false":D,Ie=(u,D)=>typeof D=="boolean"?D:u===Number&&D===""?Number.NaN:u(D),je=/[\s.:=]/,Pe=u=>{const D=`Flag name ${Q(u)}`;if(u.length===0)throw new Error(`${D} cannot be empty`);if(u.length===1)throw new Error(`${D} must be longer than a character`);const e=u.match(je);if(e)throw new Error(`${D} cannot contain ${Q(e==null?void 0:e[0])}`)},Re=u=>{const D={},e=(t,n)=>{if(uu(D,t))throw new Error(`Duplicate flags named ${Q(t)}`);D[t]=n};for(const t in u){if(!uu(u,t))continue;Pe(t);const n=u[t],r=[[],...uD(n),n];e(t,r);const i=Te(t);if(t!==i&&e(i,r),"alias"in n&&typeof n.alias=="string"){const{alias:a}=n,c=`Flag alias ${Q(a)} for flag ${Q(t)}`;if(a.length===0)throw new Error(`${c} cannot be empty`);if(a.length>1)throw new Error(`${c} must be a single character`);e(a,r)}}return D},Me=(u,D)=>{const e={};for(const t in u){if(!uu(u,t))continue;const[n,,r,i]=D[t];if(n.length===0&&"default"in i){let{default:a}=i;typeof a=="function"&&(a=a()),e[t]=a}else e[t]=r?n:n.pop()}return e},ou="--",Le=/[.:=]/,We=/^-{1,2}\w/,qe=u=>{if(!We.test(u))return;const D=!u.startsWith(ou);let e=u.slice(D?1:2),t;const n=e.match(Le);if(n){const{index:r}=n;t=e.slice(r+1),e=e.slice(0,r)}return[e,t,D]},Ge=(u,{onFlag:D,onArgument:e})=>{let t;const n=(r,i)=>{if(typeof t!="function")return!0;t(r,i),t=void 0};for(let r=0;r<u.length;r+=1){const i=u[r];if(i===ou){n();const c=u.slice(r+1);e==null||e(c,[r],!0);break}const a=qe(i);if(a){if(n(),!D)continue;const[c,d,o]=a;if(o)for(let l=0;l<c.length;l+=1){n();const s=l===c.length-1;t=D(c[l],s?d:void 0,[r,l+1,s])}else t=D(c,d,[r])}else n(i,[r])&&(e==null||e([i],[r]))}n()},Ue=(u,D)=>{for(const[e,t,n]of D.reverse()){if(t){const r=u[e];let i=r.slice(0,t);if(n||(i+=r.slice(t+1)),i!=="-"){u[e]=i;continue}}u.splice(e,1)}},Ye=(u,D=process.argv.slice(2),{ignore:e}={})=>{const t=[],n=Re(u),r={},i=[];return i[ou]=[],Ge(D,{onFlag(a,c,d){const o=uu(n,a);if(!(e!=null&&e(o?Se:be,a,c))){if(o){const[l,s]=n[a],F=xe(s,c),f=(C,h)=>{t.push(d),h&&t.push(h),l.push(Ie(s,C||""))};return F===void 0?f:f(F)}uu(r,a)||(r[a]=[]),r[a].push(c===void 0?!0:c),t.push(d)}},onArgument(a,c,d){e!=null&&e(Oe,D[c[0]])||(i.push(...a),d?(i[ou]=a,D.splice(c[0])):t.push(c))}}),Ue(D,t),{flags:Me(u,n),unknownFlags:r,_:i}};var Je=Object.create,au=Object.defineProperty,Ve=Object.defineProperties,ze=Object.getOwnPropertyDescriptor,Ke=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertyNames,DD=Object.getOwnPropertySymbols,Xe=Object.getPrototypeOf,eD=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,tD=(u,D,e)=>D in u?au(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,cu=(u,D)=>{for(var e in D||(D={}))eD.call(D,e)&&tD(u,e,D[e]);if(DD)for(var e of DD(D))Ze.call(D,e)&&tD(u,e,D[e]);return u},$u=(u,D)=>Ve(u,Ke(D)),Qe=u=>au(u,"__esModule",{value:!0}),ut=(u,D)=>()=>(u&&(D=u(u=0)),D),Dt=(u,D)=>()=>(D||u((D={exports:{}}).exports,D),D.exports),et=(u,D,e,t)=>{if(D&&typeof D=="object"||typeof D=="function")for(let n of He(D))!eD.call(u,n)&&(e||n!=="default")&&au(u,n,{get:()=>D[n],enumerable:!(t=ze(D,n))||t.enumerable});return u},tt=(u,D)=>et(Qe(au(u!=null?Je(Xe(u)):{},"default",!D&&u&&u.__esModule?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u),j=ut(()=>{}),nt=Dt((u,D)=>{j(),D.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});j(),j(),j();var rt=u=>{var D,e,t;let n=(D=process.stdout.columns)!=null?D:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(n)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:n}:{columns:(e=u.columns)!=null?e:[],stdoutColumns:(t=u.stdoutColumns)!=null?t:n}};j(),j(),j(),j(),j();function it({onlyFirst:u=!1}={}){let D=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(D,u?void 0:"g")}function nD(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(it(),"")}j();function ot(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}var at=tt(nt(),1);function G(u){if(typeof u!="string"||u.length===0||(u=nD(u),u.length===0))return 0;u=u.replace((0,at.default)(),"  ");let D=0;for(let e=0;e<u.length;e++){let t=u.codePointAt(e);t<=31||t>=127&&t<=159||t>=768&&t<=879||(t>65535&&e++,D+=ot(t)?2:1)}return D}var rD=u=>Math.max(...u.split(`
`).map(G)),ct=u=>{let D=[];for(let e of u){let{length:t}=e,n=t-D.length;for(let r=0;r<n;r+=1)D.push(0);for(let r=0;r<t;r+=1){let i=rD(e[r]);i>D[r]&&(D[r]=i)}}return D};j();var iD=/^\d+%$/,oD={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},st=(u,D)=>{var e;let t=[];for(let n=0;n<u.length;n+=1){let r=(e=D[n])!=null?e:"auto";if(typeof r=="number"||r==="auto"||r==="content-width"||typeof r=="string"&&iD.test(r)){t.push($u(cu({},oD),{width:r,contentWidth:u[n]}));continue}if(r&&typeof r=="object"){let i=$u(cu(cu({},oD),r),{contentWidth:u[n]});i.horizontalPadding=i.paddingLeft+i.paddingRight,t.push(i);continue}throw new Error(`Invalid column width: ${JSON.stringify(r)}`)}return t};function lt(u,D){for(let e of u){let{width:t}=e;if(t==="content-width"&&(e.width=e.contentWidth),t==="auto"){let c=Math.min(20,e.contentWidth);e.width=c,e.autoOverflow=e.contentWidth-c}if(typeof t=="string"&&iD.test(t)){let c=Number.parseFloat(t.slice(0,-1))/100;e.width=Math.floor(D*c)-(e.paddingLeft+e.paddingRight)}let{horizontalPadding:n}=e,r=1,i=r+n;if(i>=D){let c=i-D,d=Math.ceil(e.paddingLeft/n*c),o=c-d;e.paddingLeft-=d,e.paddingRight-=o,e.horizontalPadding=e.paddingLeft+e.paddingRight}e.paddingLeftString=e.paddingLeft?" ".repeat(e.paddingLeft):"",e.paddingRightString=e.paddingRight?" ".repeat(e.paddingRight):"";let a=D-e.horizontalPadding;e.width=Math.max(Math.min(e.width,a),r)}}var aD=()=>Object.assign([],{columns:0});function Ft(u,D){let e=[aD()],[t]=e;for(let n of u){let r=n.width+n.horizontalPadding;t.columns+r>D&&(t=aD(),e.push(t)),t.push(n),t.columns+=r}for(let n of e){let r=n.reduce((s,F)=>s+F.width+F.horizontalPadding,0),i=D-r;if(i===0)continue;let a=n.filter(s=>"autoOverflow"in s),c=a.filter(s=>s.autoOverflow>0),d=c.reduce((s,F)=>s+F.autoOverflow,0),o=Math.min(d,i);for(let s of c){let F=Math.floor(s.autoOverflow/d*o);s.width+=F,i-=F}let l=Math.floor(i/a.length);for(let s=0;s<a.length;s+=1){let F=a[s];s===a.length-1?F.width+=i:F.width+=l,i-=l}}return e}function ft(u,D,e){let t=st(e,D);return lt(t,u),Ft(t,u)}j(),j(),j();var Au=10,cD=(u=0)=>D=>`\x1B[${D+u}m`,sD=(u=0)=>D=>`\x1B[${38+u};5;${D}m`,lD=(u=0)=>(D,e,t)=>`\x1B[${38+u};2;${D};${e};${t}m`;function dt(){let u=new Map,D={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};D.color.gray=D.color.blackBright,D.bgColor.bgGray=D.bgColor.bgBlackBright,D.color.grey=D.color.blackBright,D.bgColor.bgGrey=D.bgColor.bgBlackBright;for(let[e,t]of Object.entries(D)){for(let[n,r]of Object.entries(t))D[n]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},t[n]=D[n],u.set(r[0],r[1]);Object.defineProperty(D,e,{value:t,enumerable:!1})}return Object.defineProperty(D,"codes",{value:u,enumerable:!1}),D.color.close="\x1B[39m",D.bgColor.close="\x1B[49m",D.color.ansi=cD(),D.color.ansi256=sD(),D.color.ansi16m=lD(),D.bgColor.ansi=cD(Au),D.bgColor.ansi256=sD(Au),D.bgColor.ansi16m=lD(Au),Object.defineProperties(D,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;n.length===3&&(n=n.split("").map(i=>i+i).join(""));let r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:e=>D.rgbToAnsi256(...D.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,n,r;if(e>=232)t=((e-232)*10+8)/255,n=t,r=t;else{e-=16;let c=e%36;t=Math.floor(e/36)/5,n=Math.floor(c/6)/5,r=c%6/5}let i=Math.max(t,n,r)*2;if(i===0)return 30;let a=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(t));return i===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>D.ansi256ToAnsi(D.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>D.ansi256ToAnsi(D.hexToAnsi256(e)),enumerable:!1}}),D}var Et=dt(),Ct=Et,su=new Set(["\x1B","\x9B"]),ht=39,Su="\x07",FD="[",mt="]",fD="m",bu=`${mt}8;;`,dD=u=>`${su.values().next().value}${FD}${u}${fD}`,ED=u=>`${su.values().next().value}${bu}${u}${Su}`,pt=u=>u.split(" ").map(D=>G(D)),Ou=(u,D,e)=>{let t=[...D],n=!1,r=!1,i=G(nD(u[u.length-1]));for(let[a,c]of t.entries()){let d=G(c);if(i+d<=e?u[u.length-1]+=c:(u.push(c),i=0),su.has(c)&&(n=!0,r=t.slice(a+1).join("").startsWith(bu)),n){r?c===Su&&(n=!1,r=!1):c===fD&&(n=!1);continue}i+=d,i===e&&a<t.length-1&&(u.push(""),i=0)}!i&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},yt=u=>{let D=u.split(" "),e=D.length;for(;e>0&&!(G(D[e-1])>0);)e--;return e===D.length?u:D.slice(0,e).join(" ")+D.slice(e).join("")},gt=(u,D,e={})=>{if(e.trim!==!1&&u.trim()==="")return"";let t="",n,r,i=pt(u),a=[""];for(let[d,o]of u.split(" ").entries()){e.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let l=G(a[a.length-1]);if(d!==0&&(l>=D&&(e.wordWrap===!1||e.trim===!1)&&(a.push(""),l=0),(l>0||e.trim===!1)&&(a[a.length-1]+=" ",l++)),e.hard&&i[d]>D){let s=D-l,F=1+Math.floor((i[d]-s-1)/D);Math.floor((i[d]-1)/D)<F&&a.push(""),Ou(a,o,D);continue}if(l+i[d]>D&&l>0&&i[d]>0){if(e.wordWrap===!1&&l<D){Ou(a,o,D);continue}a.push("")}if(l+i[d]>D&&e.wordWrap===!1){Ou(a,o,D);continue}a[a.length-1]+=o}e.trim!==!1&&(a=a.map(d=>yt(d)));let c=[...a.join(`
`)];for(let[d,o]of c.entries()){if(t+=o,su.has(o)){let{groups:s}=new RegExp(`(?:\\${FD}(?<code>\\d+)m|\\${bu}(?<uri>.*)${Su})`).exec(c.slice(d).join(""))||{groups:{}};if(s.code!==void 0){let F=Number.parseFloat(s.code);n=F===ht?void 0:F}else s.uri!==void 0&&(r=s.uri.length===0?void 0:s.uri)}let l=Ct.codes.get(Number(n));c[d+1]===`
`?(r&&(t+=ED("")),n&&l&&(t+=dD(l))):o===`
`&&(n&&l&&(t+=dD(n)),r&&(t+=ED(r)))}return t};function Bt(u,D,e){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>gt(t,D,e)).join(`
`)}var CD=u=>Array.from({length:u}).fill("");function wt(u,D){let e=[],t=0;for(let n of u){let r=0,i=n.map(c=>{var d;let o=(d=D[t])!=null?d:"";t+=1,c.preprocess&&(o=c.preprocess(o)),rD(o)>c.width&&(o=Bt(o,c.width,{hard:!0}));let l=o.split(`
`);if(c.postprocess){let{postprocess:s}=c;l=l.map((F,f)=>s.call(c,F,f))}return c.paddingTop&&l.unshift(...CD(c.paddingTop)),c.paddingBottom&&l.push(...CD(c.paddingBottom)),l.length>r&&(r=l.length),$u(cu({},c),{lines:l})}),a=[];for(let c=0;c<r;c+=1){let d=i.map(o=>{var l;let s=(l=o.lines[c])!=null?l:"",F=Number.isFinite(o.width)?" ".repeat(o.width-G(s)):"",f=o.paddingLeftString;return o.align==="right"&&(f+=F),f+=s,o.align==="left"&&(f+=F),f+o.paddingRightString}).join("");a.push(d)}e.push(a.join(`
`))}return e.join(`
`)}function vt(u,D){if(!u||u.length===0)return"";let e=ct(u),t=e.length;if(t===0)return"";let{stdoutColumns:n,columns:r}=rt(D);if(r.length>t)throw new Error(`${r.length} columns defined, but only ${t} columns found`);let i=ft(n,r,e);return u.map(a=>wt(i,a)).join(`
`)}j();var $t=["<",">","=",">=","<="];function At(u){if(!$t.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}function St(u){let D=Object.keys(u).map(e=>{let[t,n]=e.split(" ");At(t);let r=Number.parseInt(n,10);if(Number.isNaN(r))throw new TypeError(`Invalid breakpoint value: ${n}`);let i=u[e];return{operator:t,breakpoint:r,value:i}}).sort((e,t)=>t.breakpoint-e.breakpoint);return e=>{var t;return(t=D.find(({operator:n,breakpoint:r})=>n==="="&&e===r||n===">"&&e>r||n==="<"&&e<r||n===">="&&e>=r||n==="<="&&e<=r))==null?void 0:t.value}}const bt=u=>u.replace(/[\W_]([a-z\d])?/gi,(D,e)=>e?e.toUpperCase():""),Ot=u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),Nt={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:u=>u.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function Tt(u){let D=!1;return{type:"table",data:{tableData:Object.keys(u).sort((e,t)=>e.localeCompare(t)).map(e=>{const t=u[e],n="alias"in t;return n&&(D=!0),{name:e,flag:t,flagFormatted:`--${Ot(e)}`,aliasesEnabled:D,aliasFormatted:n?`-${t.alias}`:void 0}}).map(e=>(e.aliasesEnabled=D,[{type:"flagName",data:e},{type:"flagDescription",data:e}])),tableBreakpoints:Nt}}}const hD=u=>{var D;return!u||((D=u.version)!=null?D:u.help?u.help.version:void 0)},mD=u=>{var e;const D="parent"in u&&((e=u.parent)==null?void 0:e.name);return(D?`${D} `:"")+u.name};function _t(u){var t;const D=[];u.name&&D.push(mD(u));const e=(t=hD(u))!=null?t:"parent"in u&&hD(u.parent);if(e&&D.push(`v${e}`),D.length!==0)return{id:"name",type:"text",data:`${D.join(" ")}
`}}function kt(u){const{help:D}=u;if(!(!D||!D.description))return{id:"description",type:"text",data:`${D.description}
`}}function xt(u){var e;const D=u.help||{};if("usage"in D)return D.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(D.usage)?D.usage.join(`
`):D.usage}}:void 0;if(u.name){const t=[],n=[mD(u)];if(u.flags&&Object.keys(u.flags).length>0&&n.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:r}=u,i=r.indexOf("--"),a=i>-1&&r.slice(i+1).some(c=>c.startsWith("<"));n.push(r.map(c=>c!=="--"?c:a?"--":"[--]").join(" "))}if(n.length>1&&t.push(n.join(" ")),"commands"in u&&((e=u.commands)!=null&&e.length)&&t.push(`${u.name} <command>`),t.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:t.join(`
`)}}}}function It(u){var D;return!("commands"in u)||!((D=u.commands)!=null&&D.length)?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(e=>[e.options.name,e.options.help?e.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}function jt(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:Tt(u.flags),indentBody:0}}}function Pt(u){const{help:D}=u;if(!D||!D.examples||D.examples.length===0)return;let{examples:e}=D;if(Array.isArray(e)&&(e=e.join(`
`)),e)return{id:"examples",type:"section",data:{title:"Examples:",body:e}}}function Rt(u){if(!("alias"in u)||!u.alias)return;const{alias:D}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(D)?D.join(", "):D}}}const Mt=u=>[_t,kt,xt,It,jt,Pt,Rt].map(D=>D(u)).filter(Boolean),Lt=ve.default.WriteStream.prototype.hasColors();class Wt{text(D){return D}bold(D){return Lt?`\x1B[1m${D}\x1B[22m`:D.toLocaleUpperCase()}indentText({text:D,spaces:e}){return D.replace(/^/gm," ".repeat(e))}heading(D){return this.bold(D)}section({title:D,body:e,indentBody:t=2}){return`${(D?`${this.heading(D)}
`:"")+(e?this.indentText({text:this.render(e),spaces:t}):"")}
`}table({tableData:D,tableOptions:e,tableBreakpoints:t}){return vt(D.map(n=>n.map(r=>this.render(r))),t?St(t):e)}flagParameter(D){return D===Boolean?"":D===String?"<string>":D===Number?"<number>":Array.isArray(D)?this.flagParameter(D[0]):"<value>"}flagOperator(D){return" "}flagName(D){const{flag:e,flagFormatted:t,aliasesEnabled:n,aliasFormatted:r}=D;let i="";if(r?i+=`${r}, `:n&&(i+="    "),i+=t,"placeholder"in e&&typeof e.placeholder=="string")i+=`${this.flagOperator(D)}${e.placeholder}`;else{const a=this.flagParameter("type"in e?e.type:e);a&&(i+=`${this.flagOperator(D)}${a}`)}return i}flagDefault(D){return JSON.stringify(D)}flagDescription({flag:D}){var t;let e="description"in D&&(t=D.description)!=null?t:"";if("default"in D){let{default:n}=D;typeof n=="function"&&(n=n()),n&&(e+=` (default: ${this.flagDefault(n)})`)}return e}render(D){if(typeof D=="string")return D;if(Array.isArray(D))return D.map(e=>this.render(e)).join(`
`);if("type"in D&&this[D.type]){const e=this[D.type];if(typeof e=="function")return e.call(this,D.data)}throw new Error(`Invalid node type: ${JSON.stringify(D)}`)}}const pD=/^[\w.-]+$/,{stringify:R}=JSON,qt=/[|\\{}()[\]^$+*?.]/;function Nu(u){const D=[];let e,t;for(const n of u){if(t)throw new Error(`Invalid parameter: Spread parameter ${R(t)} must be last`);const r=n[0],i=n[n.length-1];let a;if(r==="<"&&i===">"&&(a=!0,e))throw new Error(`Invalid parameter: Required parameter ${R(n)} cannot come after optional parameter ${R(e)}`);if(r==="["&&i==="]"&&(a=!1,e=n),a===void 0)throw new Error(`Invalid parameter: ${R(n)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let c=n.slice(1,-1);const d=c.slice(-3)==="...";d&&(t=n,c=c.slice(0,-3));const o=c.match(qt);if(o)throw new Error(`Invalid parameter: ${R(n)}. Invalid character found ${R(o[0])}`);D.push({name:c,required:a,spread:d})}return D}function Tu(u,D,e,t){for(let n=0;n<D.length;n+=1){const{name:r,required:i,spread:a}=D[n],c=bt(r);if(c in u)throw new Error(`Invalid parameter: ${R(r)} is used more than once.`);const d=a?e.slice(n):e[n];if(a&&(n=D.length),i&&(!d||a&&d.length===0))return console.error(`Error: Missing required parameter ${R(r)}
`),t(),process.exit(1);u[c]=d}}function Gt(u){return u===void 0||u!==!1}function yD(u,D,e,t){const n={...D.flags},r=D.version;r&&(n.version={type:Boolean,description:"Show version"});const{help:i}=D,a=Gt(i);a&&!("help"in n)&&(n.help={type:Boolean,alias:"h",description:"Show help"});const c=Ye(n,t,{ignore:D.ignoreArgv}),d=()=>{console.log(D.version)};if(r&&c.flags.version===!0)return d(),process.exit(0);const o=new Wt,l=a&&(i!=null&&i.render)?i.render:f=>o.render(f),s=f=>{const C=Mt({...D,...f?{help:f}:{},flags:n});console.log(l(C,o))};if(a&&c.flags.help===!0)return s(),process.exit(0);if(D.parameters){let{parameters:f}=D,C=c._;const h=f.indexOf("--"),g=f.slice(h+1),b=Object.create(null);if(h>-1&&g.length>0){f=f.slice(0,h);const O=c._["--"];C=C.slice(0,-O.length||void 0),Tu(b,Nu(f),C,s),Tu(b,Nu(g),O,s)}else Tu(b,Nu(f),C,s);Object.assign(c._,b)}const F={...c,showVersion:d,showHelp:s};return typeof e=="function"&&e(F),{command:u,...F}}function Ut(u,D){const e=new Map;for(const t of D){const n=[t.options.name],{alias:r}=t.options;r&&(Array.isArray(r)?n.push(...r):n.push(r));for(const i of n){if(e.has(i))throw new Error(`Duplicate command name found: ${R(i)}`);e.set(i,t)}}return e.get(u)}function Yt(u,D,e=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!pD.test(u.name)))throw new Error(`Invalid script name: ${R(u.name)}`);const t=e[0];if(u.commands&&pD.test(t)){const n=Ut(t,u.commands);if(n)return yD(n.options.name,{...n.options,parent:u},n.callback,e.slice(1))}return yD(void 0,u,D,e)}let U=!0;const V=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{};let Du=0;if(V.process&&V.process.env&&V.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:D,NO_COLOR:e,TERM:t,COLORTERM:n}=V.process.env;D||e||u==="0"?U=!1:u==="1"||u==="2"||u==="3"?U=!0:t==="dumb"?U=!1:"CI"in V.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(r=>r in V.process.env)?U=!0:U=process.stdout.isTTY,U&&(process.platform==="win32"||n&&(n==="truecolor"||n==="24bit")?Du=3:t&&(t.endsWith("-256color")||t.endsWith("256"))?Du=2:Du=1)}let gD={enabled:U,supportLevel:Du};function lu(u,D,e=1){const t=`\x1B[${u}m`,n=`\x1B[${D}m`,r=new RegExp(`\\x1b\\[${D}m`,"g");return i=>gD.enabled&&gD.supportLevel>=e?t+(""+i).replace(r,t)+n:""+i}const BD=lu(31,39),Jt=lu(32,39),Vt=lu(35,39),_u=lu(36,39),Fu=u=>I.default.promises.access(u).then(()=>!0,()=>!1);var zt=require;const wD=async u=>{const D=await I.default.promises.readFile(u,"utf8");return JSON.parse(D)},Kt="link.config.json",vD="link.config.js",$D=async u=>{const D=S.default.join(u,Kt);if(await Fu(D))try{return wD(D)}catch(t){throw new Error(`Failed to parse config JSON ${D}: ${t.message}`)}const e=S.default.join(u,vD);if(await Fu(e))try{return zt(e)}catch(t){throw new Error(`Failed to load config file ${vD}: ${t.message}`)}};var ku=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ht(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var xu={exports:{}},fu={exports:{}};const M=new Map,AD=I.default,{dirname:SD,resolve:Iu}=S.default,Xt=u=>new Promise((D,e)=>AD.lstat(u,(t,n)=>t?e(t):D(n))),bD=u=>{if(u=Iu(u),M.has(u))return Promise.resolve(M.get(u));const D=n=>{const{uid:r,gid:i}=n;return M.set(u,{uid:r,gid:i}),{uid:r,gid:i}},e=SD(u),t=e===u?null:n=>bD(e).then(r=>(M.set(u,r),r));return Xt(u).then(D,t)},OD=u=>{if(u=Iu(u),M.has(u))return M.get(u);const D=SD(u);let e=!0;try{const t=AD.lstatSync(u);e=!1;const{uid:n,gid:r}=t;return M.set(u,{uid:n,gid:r}),{uid:n,gid:r}}finally{if(e&&D!==u){const t=OD(D);return M.set(u,t),t}}},eu=new Map;fu.exports=u=>{if(u=Iu(u),eu.has(u))return Promise.resolve(eu.get(u));const D=bD(u).then(e=>(eu.delete(u),e));return eu.set(u,D),D},fu.exports.sync=OD,fu.exports.clearCache=()=>{M.clear(),eu.clear()};var Zt=fu.exports;const{promisify:ND}=iu.default,L=I.default,Qt=u=>{if(!u)u={mode:511,fs:L};else if(typeof u=="object")u={mode:511,fs:L,...u};else if(typeof u=="number")u={mode:u,fs:L};else if(typeof u=="string")u={mode:parseInt(u,8),fs:L};else throw new TypeError("invalid options argument");return u.mkdir=u.mkdir||u.fs.mkdir||L.mkdir,u.mkdirAsync=ND(u.mkdir),u.stat=u.stat||u.fs.stat||L.stat,u.statAsync=ND(u.stat),u.statSync=u.statSync||u.fs.statSync||L.statSync,u.mkdirSync=u.mkdirSync||u.fs.mkdirSync||L.mkdirSync,u};var un=Qt;const Dn=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:en,parse:tn}=S.default,nn=u=>{if(/\0/.test(u))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:u,code:"ERR_INVALID_ARG_VALUE"});if(u=en(u),Dn==="win32"){const D=/[*|"<>?:]/,{root:e}=tn(u);if(D.test(u.substr(e.length)))throw Object.assign(new Error("Illegal characters in path."),{path:u,code:"EINVAL"})}return u};var rn=nn;const{dirname:TD}=S.default,_D=(u,D,e=void 0)=>e===D?Promise.resolve():u.statAsync(D).then(t=>t.isDirectory()?e:void 0,t=>t.code==="ENOENT"?_D(u,TD(D),D):void 0),kD=(u,D,e=void 0)=>{if(e!==D)try{return u.statSync(D).isDirectory()?e:void 0}catch(t){return t.code==="ENOENT"?kD(u,TD(D),D):void 0}};var on={findMade:_D,findMadeSync:kD};const{dirname:xD}=S.default,ju=(u,D,e)=>{D.recursive=!1;const t=xD(u);return t===u?D.mkdirAsync(u,D).catch(n=>{if(n.code!=="EISDIR")throw n}):D.mkdirAsync(u,D).then(()=>e||u,n=>{if(n.code==="ENOENT")return ju(t,D).then(r=>ju(u,D,r));if(n.code!=="EEXIST"&&n.code!=="EROFS")throw n;return D.statAsync(u).then(r=>{if(r.isDirectory())return e;throw n},()=>{throw n})})},Pu=(u,D,e)=>{const t=xD(u);if(D.recursive=!1,t===u)try{return D.mkdirSync(u,D)}catch(n){if(n.code!=="EISDIR")throw n;return}try{return D.mkdirSync(u,D),e||u}catch(n){if(n.code==="ENOENT")return Pu(u,D,Pu(t,D,e));if(n.code!=="EEXIST"&&n.code!=="EROFS")throw n;try{if(!D.statSync(u).isDirectory())throw n}catch{throw n}}};var ID={mkdirpManual:ju,mkdirpManualSync:Pu};const{dirname:jD}=S.default,{findMade:an,findMadeSync:cn}=on,{mkdirpManual:sn,mkdirpManualSync:ln}=ID,Fn=(u,D)=>(D.recursive=!0,jD(u)===u?D.mkdirAsync(u,D):an(D,u).then(t=>D.mkdirAsync(u,D).then(()=>t).catch(n=>{if(n.code==="ENOENT")return sn(u,D);throw n}))),fn=(u,D)=>{if(D.recursive=!0,jD(u)===u)return D.mkdirSync(u,D);const t=cn(D,u);try{return D.mkdirSync(u,D),t}catch(n){if(n.code==="ENOENT")return ln(u,D);throw n}};var dn={mkdirpNative:Fn,mkdirpNativeSync:fn};const PD=I.default,En=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Ru=En.replace(/^v/,"").split("."),RD=+Ru[0]>10||+Ru[0]==10&&+Ru[1]>=12,Cn=RD?u=>u.mkdir===PD.mkdir:()=>!1,hn=RD?u=>u.mkdirSync===PD.mkdirSync:()=>!1;var mn={useNative:Cn,useNativeSync:hn};const z=un,K=rn,{mkdirpNative:MD,mkdirpNativeSync:LD}=dn,{mkdirpManual:WD,mkdirpManualSync:qD}=ID,{useNative:pn,useNativeSync:yn}=mn,H=(u,D)=>(u=K(u),D=z(D),pn(D)?MD(u,D):WD(u,D)),gn=(u,D)=>(u=K(u),D=z(D),yn(D)?LD(u,D):qD(u,D));H.sync=gn,H.native=(u,D)=>MD(K(u),z(D)),H.manual=(u,D)=>WD(K(u),z(D)),H.nativeSync=(u,D)=>LD(K(u),z(D)),H.manualSync=(u,D)=>qD(K(u),z(D));var Bn=H;const P=I.default,Y=S.default,wn=P.lchown?"lchown":"chown",vn=P.lchownSync?"lchownSync":"chownSync",GD=P.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),UD=(u,D,e)=>{try{return P[vn](u,D,e)}catch(t){if(t.code!=="ENOENT")throw t}},$n=(u,D,e)=>{try{return P.chownSync(u,D,e)}catch(t){if(t.code!=="ENOENT")throw t}},An=GD?(u,D,e,t)=>n=>{!n||n.code!=="EISDIR"?t(n):P.chown(u,D,e,t)}:(u,D,e,t)=>t,Mu=GD?(u,D,e)=>{try{return UD(u,D,e)}catch(t){if(t.code!=="EISDIR")throw t;$n(u,D,e)}}:(u,D,e)=>UD(u,D,e),Sn=process.version;let YD=(u,D,e)=>P.readdir(u,D,e),bn=(u,D)=>P.readdirSync(u,D);/^v4\./.test(Sn)&&(YD=(u,D,e)=>P.readdir(u,e));const du=(u,D,e,t)=>{P[wn](u,D,e,An(u,D,e,n=>{t(n&&n.code!=="ENOENT"?n:null)}))},JD=(u,D,e,t,n)=>{if(typeof D=="string")return P.lstat(Y.resolve(u,D),(r,i)=>{if(r)return n(r.code!=="ENOENT"?r:null);i.name=D,JD(u,i,e,t,n)});if(D.isDirectory())Lu(Y.resolve(u,D.name),e,t,r=>{if(r)return n(r);const i=Y.resolve(u,D.name);du(i,e,t,n)});else{const r=Y.resolve(u,D.name);du(r,e,t,n)}},Lu=(u,D,e,t)=>{YD(u,{withFileTypes:!0},(n,r)=>{if(n){if(n.code==="ENOENT")return t();if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return t(n)}if(n||!r.length)return du(u,D,e,t);let i=r.length,a=null;const c=d=>{if(!a){if(d)return t(a=d);if(--i===0)return du(u,D,e,t)}};r.forEach(d=>JD(u,d,D,e,c))})},On=(u,D,e,t)=>{if(typeof D=="string")try{const n=P.lstatSync(Y.resolve(u,D));n.name=D,D=n}catch(n){if(n.code==="ENOENT")return;throw n}D.isDirectory()&&VD(Y.resolve(u,D.name),e,t),Mu(Y.resolve(u,D.name),e,t)},VD=(u,D,e)=>{let t;try{t=bn(u,{withFileTypes:!0})}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR"||n.code==="ENOTSUP")return Mu(u,D,e);throw n}return t&&t.length&&t.forEach(n=>On(u,n,D,e)),Mu(u,D,e)};var Nn=Lu;Lu.sync=VD;const zD=Zt,Eu=Bn,{promisify:Tn}=iu.default,KD=Tn(Nn),_n=process.env.__TESTING_MKDIRP_INFER_OWNER_PLATFORM__||process.platform,kn=_n==="win32",xn=process.getuid&&process.getuid()===0,HD=!kn&&xn;xu.exports=HD?(u,D)=>zD(u).then(({uid:e,gid:t})=>Eu(u,D).then(n=>e!==0||t!==process.getgid()?KD(n||u,e,t).then(()=>n):n)):(u,D)=>Eu(u,D),xu.exports.sync=HD?(u,D)=>{const{uid:e,gid:t}=zD.sync(u),n=Eu.sync(u);return(e!==0||t!==process.getgid())&&KD.sync(n||u,e,t),n}:(u,D)=>Eu.sync(u,D);var In=xu.exports,Cu={};Cu.replaceDollarWithPercentPair=ZD,Cu.convertToSetCommand=XD,Cu.convertToSetCommands=Pn;function XD(u,D){var e="";return u=u||"",u=u.trim(),D=D||"",D=D.trim(),u&&D&&D.length>0&&(e="@SET "+u+"="+ZD(D)+`\r
`),e}function jn(u){var D={};return u.map(function(e){var t=e.split("=");D[t[0]]=t[1]}),D}function Pn(u){var D=jn(u.split(" ")),e="";return Object.keys(D).forEach(function(t){e+=XD(t,D[t])}),e}function ZD(u){var D=/\$\{?([^$@#?\- \t{}:]+)\}?/g,e="",t=0;do{var n=D.exec(u);if(n){var r=u.substring(t,n.index)||"";e+=r+"%"+n[1]+"%",t=D.lastIndex}}while(D.lastIndex>0);return e+=u.slice(t),e}const{promisify:tu}=iu.default,nu=I.default,Wu=tu(nu.writeFile),Rn=tu(nu.readFile),qu=tu(nu.chmod),QD=tu(nu.stat),Mn=tu(nu.unlink),{dirname:ue,relative:Ln}=S.default,Wn=In,qn=Cu,Gn=/^#!\s*(?:\/usr\/bin\/env\s*((?:[^ \t=]+=[^ \t=]+\s+)*))?([^ \t]+)(.*)$/,Un=(u,D)=>QD(u).then(()=>Uu(u,D),()=>{}),Gu=u=>Mn(u).catch(()=>{}),Uu=(u,D)=>QD(u).then(()=>Yn(u,D)),Yn=(u,D)=>Promise.all([Gu(D),Gu(D+".cmd"),Gu(D+".ps1")]).then(()=>Jn(u,D)),Jn=(u,D)=>Wn(ue(D)).then(()=>Rn(u,"utf8")).then(e=>{const n=e.trim().split(/\r*\n/)[0].match(Gn);if(!n)return Yu(u,D);const r=n[1]||"",i=n[2],a=n[3]||"";return Yu(u,D,i,a,r)},e=>Yu(u,D)),Yu=(u,D,e,t,n)=>{let r=Ln(ue(D),u),i=r.split("/").join("\\"),a,c=e&&e.split("\\").join("/"),d,o=c&&`"${c}$exe"`,l;r=r.split("\\").join("/"),t=t||"",n=n||"",e?(a=`"%dp0%\\${e}.exe"`,d=`"$basedir/${e}"`,l=`"$basedir/${e}$exe"`,i=`"%dp0%\\${i}"`,r=`"$basedir/${r}"`):(e=`"%dp0%\\${i}"`,c=`"$basedir/${r}"`,o=c,t="",i="",r="");const s=`@ECHO off\r
GOTO start\r
:find_dp0\r
SET dp0=%~dp0\r
EXIT /b\r
:start\r
SETLOCAL\r
CALL :find_dp0\r
`;let F;if(a){d=d.trim(),t=t.trim();const h=qn.convertToSetCommands(n);F=s+h+`\r
IF EXIST ${a} (\r
  SET "_prog=${a.replace(/(^")|("$)/g,"")}"\r
) ELSE (\r
  SET "_prog=${e.replace(/(^")|("$)/g,"")}"\r
  SET PATHEXT=%PATHEXT:;.JS;=;%\r
)\r
\r
endLocal & goto #_undefined_# 2>NUL || title %COMSPEC% & "%_prog%" ${t} ${i} %*\r
`}else F=`${s}${e} ${t} ${i} %*\r
`;let f=`#!/bin/sh
`;f=f+`basedir=$(dirname "$(echo "$0" | sed -e 's,\\\\,/,g')")

case \`uname\` in
    *CYGWIN*|*MINGW*|*MSYS*) basedir=\`cygpath -w "$basedir"\`;;
esac

`,d?f=f+`if [ -x ${d} ]; then
  exec ${n}${d} ${t} ${r} "$@"
else 
  exec ${n}${c} ${t} ${r} "$@"
fi
`:f=f+`exec ${c} ${t} ${r} "$@"
`;let C=`#!/usr/bin/env pwsh
$basedir=Split-Path $MyInvocation.MyCommand.Definition -Parent

$exe=""
if ($PSVersionTable.PSVersion -lt "6.0" -or $IsWindows) {
  # Fix case when both the Windows and Linux builds of Node
  # are installed in the same directory
  $exe=".exe"
}
`;return d?C=C+`$ret=0
if (Test-Path ${l}) {
  # Support pipeline input
  if ($MyInvocation.ExpectingInput) {
    $input | & ${l} ${t} ${r} $args
  } else {
    & ${l} ${t} ${r} $args
  }
  $ret=$LASTEXITCODE
} else {
  # Support pipeline input
  if ($MyInvocation.ExpectingInput) {
    $input | & ${o} ${t} ${r} $args
  } else {
    & ${o} ${t} ${r} $args
  }
  $ret=$LASTEXITCODE
}
exit $ret
`:C=C+`# Support pipeline input
if ($MyInvocation.ExpectingInput) {
  $input | & ${o} ${t} ${r} $args
} else {
  & ${o} ${t} ${r} $args
}
exit $LASTEXITCODE
`,Promise.all([Wu(D+".ps1",C,"utf8"),Wu(D+".cmd",F,"utf8"),Wu(D,f,"utf8")]).then(()=>Vn(D))},Vn=u=>Promise.all([qu(u,493),qu(u+".cmd",493),qu(u+".ps1",493)]);var zn=Uu;Uu.ifExists=Un;var Kn=Ht(zn);const Hn=async u=>{const D=S.default.join(u,"package.json");if(!await Fu(D))throw new Error(`package.json not found in ${u}`);const t=await wD(D);if(!t.name)throw new Error(`package.json must contain a name: ${D}`);return t};var W=$e.default,Xn=process.cwd,hu=null,Zn=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return hu||(hu=Xn.call(process)),hu};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var De=process.chdir;process.chdir=function(u){hu=null,De.call(process,u)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,De)}var Qn=ur;function ur(u){W.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&D(u),u.lutimes||e(u),u.chown=r(u.chown),u.fchown=r(u.fchown),u.lchown=r(u.lchown),u.chmod=t(u.chmod),u.fchmod=t(u.fchmod),u.lchmod=t(u.lchmod),u.chownSync=i(u.chownSync),u.fchownSync=i(u.fchownSync),u.lchownSync=i(u.lchownSync),u.chmodSync=n(u.chmodSync),u.fchmodSync=n(u.fchmodSync),u.lchmodSync=n(u.lchmodSync),u.stat=a(u.stat),u.fstat=a(u.fstat),u.lstat=a(u.lstat),u.statSync=c(u.statSync),u.fstatSync=c(u.fstatSync),u.lstatSync=c(u.lstatSync),u.chmod&&!u.lchmod&&(u.lchmod=function(o,l,s){s&&process.nextTick(s)},u.lchmodSync=function(){}),u.chown&&!u.lchown&&(u.lchown=function(o,l,s,F){F&&process.nextTick(F)},u.lchownSync=function(){}),Zn==="win32"&&(u.rename=typeof u.rename!="function"?u.rename:function(o){function l(s,F,f){var C=Date.now(),h=0;o(s,F,function g(b){if(b&&(b.code==="EACCES"||b.code==="EPERM")&&Date.now()-C<6e4){setTimeout(function(){u.stat(F,function(O,Z){O&&O.code==="ENOENT"?o(s,F,g):f(b)})},h),h<100&&(h+=10);return}f&&f(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(l,o),l}(u.rename)),u.read=typeof u.read!="function"?u.read:function(o){function l(s,F,f,C,h,g){var b;if(g&&typeof g=="function"){var O=0;b=function(Z,Xu,Zu){if(Z&&Z.code==="EAGAIN"&&O<10)return O++,o.call(u,s,F,f,C,h,b);g.apply(this,arguments)}}return o.call(u,s,F,f,C,h,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(l,o),l}(u.read),u.readSync=typeof u.readSync!="function"?u.readSync:function(o){return function(l,s,F,f,C){for(var h=0;;)try{return o.call(u,l,s,F,f,C)}catch(g){if(g.code==="EAGAIN"&&h<10){h++;continue}throw g}}}(u.readSync);function D(o){o.lchmod=function(l,s,F){o.open(l,W.O_WRONLY|W.O_SYMLINK,s,function(f,C){if(f){F&&F(f);return}o.fchmod(C,s,function(h){o.close(C,function(g){F&&F(h||g)})})})},o.lchmodSync=function(l,s){var F=o.openSync(l,W.O_WRONLY|W.O_SYMLINK,s),f=!0,C;try{C=o.fchmodSync(F,s),f=!1}finally{if(f)try{o.closeSync(F)}catch{}else o.closeSync(F)}return C}}function e(o){W.hasOwnProperty("O_SYMLINK")&&o.futimes?(o.lutimes=function(l,s,F,f){o.open(l,W.O_SYMLINK,function(C,h){if(C){f&&f(C);return}o.futimes(h,s,F,function(g){o.close(h,function(b){f&&f(g||b)})})})},o.lutimesSync=function(l,s,F){var f=o.openSync(l,W.O_SYMLINK),C,h=!0;try{C=o.futimesSync(f,s,F),h=!1}finally{if(h)try{o.closeSync(f)}catch{}else o.closeSync(f)}return C}):o.futimes&&(o.lutimes=function(l,s,F,f){f&&process.nextTick(f)},o.lutimesSync=function(){})}function t(o){return o&&function(l,s,F){return o.call(u,l,s,function(f){d(f)&&(f=null),F&&F.apply(this,arguments)})}}function n(o){return o&&function(l,s){try{return o.call(u,l,s)}catch(F){if(!d(F))throw F}}}function r(o){return o&&function(l,s,F,f){return o.call(u,l,s,F,function(C){d(C)&&(C=null),f&&f.apply(this,arguments)})}}function i(o){return o&&function(l,s,F){try{return o.call(u,l,s,F)}catch(f){if(!d(f))throw f}}}function a(o){return o&&function(l,s,F){typeof s=="function"&&(F=s,s=null);function f(C,h){h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),F&&F.apply(this,arguments)}return s?o.call(u,l,s,f):o.call(u,l,f)}}function c(o){return o&&function(l,s){var F=s?o.call(u,l,s):o.call(u,l);return F&&(F.uid<0&&(F.uid+=4294967296),F.gid<0&&(F.gid+=4294967296)),F}}function d(o){if(!o||o.code==="ENOSYS")return!0;var l=!process.getuid||process.getuid()!==0;return!!(l&&(o.code==="EINVAL"||o.code==="EPERM"))}}var ee=Ae.default.Stream,Dr=er;function er(u){return{ReadStream:D,WriteStream:e};function D(t,n){if(!(this instanceof D))return new D(t,n);ee.call(this);var r=this;this.path=t,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var i=Object.keys(n),a=0,c=i.length;a<c;a++){var d=i[a];this[d]=n[d]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){r._read()});return}u.open(this.path,this.flags,this.mode,function(o,l){if(o){r.emit("error",o),r.readable=!1;return}r.fd=l,r.emit("open",l),r._read()})}function e(t,n){if(!(this instanceof e))return new e(t,n);ee.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var r=Object.keys(n),i=0,a=r.length;i<a;i++){var c=r[i];this[c]=n[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=u.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var tr=rr,nr=Object.getPrototypeOf||function(u){return u.__proto__};function rr(u){if(u===null||typeof u!="object")return u;if(u instanceof Object)var D={__proto__:nr(u)};else var D=Object.create(null);return Object.getOwnPropertyNames(u).forEach(function(e){Object.defineProperty(D,e,Object.getOwnPropertyDescriptor(u,e))}),D}var $=I.default,ir=Qn,or=Dr,ar=tr,mu=iu.default,x,pu;typeof Symbol=="function"&&typeof Symbol.for=="function"?(x=Symbol.for("graceful-fs.queue"),pu=Symbol.for("graceful-fs.previous")):(x="___graceful-fs.queue",pu="___graceful-fs.previous");function cr(){}function te(u,D){Object.defineProperty(u,x,{get:function(){return D}})}var J=cr;if(mu.debuglog?J=mu.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(J=function(){var u=mu.format.apply(mu,arguments);u="GFS4: "+u.split(/\n/).join(`
GFS4: `),console.error(u)}),!$[x]){var sr=ku[x]||[];te($,sr),$.close=function(u){function D(e,t){return u.call($,e,function(n){n||ne(),typeof t=="function"&&t.apply(this,arguments)})}return Object.defineProperty(D,pu,{value:u}),D}($.close),$.closeSync=function(u){function D(e){u.apply($,arguments),ne()}return Object.defineProperty(D,pu,{value:u}),D}($.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){J($[x]),Qu.default.equal($[x].length,0)})}ku[x]||te(ku,$[x]);var Ju=Vu(ar($));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!$.__patched&&(Ju=Vu($),$.__patched=!0);function Vu(u){ir(u),u.gracefulify=Vu,u.createReadStream=Xu,u.createWriteStream=Zu;var D=u.readFile;u.readFile=e;function e(E,p,m){return typeof p=="function"&&(m=p,p=null),T(E,p,m);function T(_,N,v,A){return D(_,N,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?X([T,[_,N,v],B,A||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var t=u.writeFile;u.writeFile=n;function n(E,p,m,T){return typeof m=="function"&&(T=m,m=null),_(E,p,m,T);function _(N,v,A,B,k){return t(N,v,A,function(w){w&&(w.code==="EMFILE"||w.code==="ENFILE")?X([_,[N,v,A,B],w,k||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var r=u.appendFile;r&&(u.appendFile=i);function i(E,p,m,T){return typeof m=="function"&&(T=m,m=null),_(E,p,m,T);function _(N,v,A,B,k){return r(N,v,A,function(w){w&&(w.code==="EMFILE"||w.code==="ENFILE")?X([_,[N,v,A,B],w,k||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var a=u.copyFile;a&&(u.copyFile=c);function c(E,p,m,T){return typeof m=="function"&&(T=m,m=0),_(E,p,m,T);function _(N,v,A,B,k){return a(N,v,A,function(w){w&&(w.code==="EMFILE"||w.code==="ENFILE")?X([_,[N,v,A,B],w,k||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var d=u.readdir;u.readdir=l;var o=/^v[0-5]\./;function l(E,p,m){typeof p=="function"&&(m=p,p=null);var T=o.test(process.version)?function(v,A,B,k){return d(v,_(v,A,B,k))}:function(v,A,B,k){return d(v,A,_(v,A,B,k))};return T(E,p,m);function _(N,v,A,B){return function(k,w){k&&(k.code==="EMFILE"||k.code==="ENFILE")?X([T,[N,v,A],k,B||Date.now(),Date.now()]):(w&&w.sort&&w.sort(),typeof A=="function"&&A.call(this,k,w))}}}if(process.version.substr(0,4)==="v0.8"){var s=or(u);g=s.ReadStream,O=s.WriteStream}var F=u.ReadStream;F&&(g.prototype=Object.create(F.prototype),g.prototype.open=b);var f=u.WriteStream;f&&(O.prototype=Object.create(f.prototype),O.prototype.open=Z),Object.defineProperty(u,"ReadStream",{get:function(){return g},set:function(E){g=E},enumerable:!0,configurable:!0}),Object.defineProperty(u,"WriteStream",{get:function(){return O},set:function(E){O=E},enumerable:!0,configurable:!0});var C=g;Object.defineProperty(u,"FileReadStream",{get:function(){return C},set:function(E){C=E},enumerable:!0,configurable:!0});var h=O;Object.defineProperty(u,"FileWriteStream",{get:function(){return h},set:function(E){h=E},enumerable:!0,configurable:!0});function g(E,p){return this instanceof g?(F.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function b(){var E=this;vu(E.path,E.flags,E.mode,function(p,m){p?(E.autoClose&&E.destroy(),E.emit("error",p)):(E.fd=m,E.emit("open",m),E.read())})}function O(E,p){return this instanceof O?(f.apply(this,arguments),this):O.apply(Object.create(O.prototype),arguments)}function Z(){var E=this;vu(E.path,E.flags,E.mode,function(p,m){p?(E.destroy(),E.emit("error",p)):(E.fd=m,E.emit("open",m))})}function Xu(E,p){return new u.ReadStream(E,p)}function Zu(E,p){return new u.WriteStream(E,p)}var Ce=u.open;u.open=vu;function vu(E,p,m,T){return typeof m=="function"&&(T=m,m=null),_(E,p,m,T);function _(N,v,A,B,k){return Ce(N,v,A,function(w,Br){w&&(w.code==="EMFILE"||w.code==="ENFILE")?X([_,[N,v,A,B],w,k||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}return u}function X(u){J("ENQUEUE",u[0].name,u[1]),$[x].push(u),zu()}var yu;function ne(){for(var u=Date.now(),D=0;D<$[x].length;++D)$[x][D].length>2&&($[x][D][3]=u,$[x][D][4]=u);zu()}function zu(){if(clearTimeout(yu),yu=void 0,$[x].length!==0){var u=$[x].shift(),D=u[0],e=u[1],t=u[2],n=u[3],r=u[4];if(n===void 0)J("RETRY",D.name,e),D.apply(null,e);else if(Date.now()-n>=6e4){J("TIMEOUT",D.name,e);var i=e.pop();typeof i=="function"&&i.call(null,t)}else{var a=Date.now()-r,c=Math.max(r-n,1),d=Math.min(c*1.2,100);a>=d?(J("RETRY",D.name,e),D.apply(null,e.concat([n]))):$[x].push(u)}yu===void 0&&(yu=setTimeout(zu,0))}}var Ku={};Ku.fromCallback=function(u){return Object.defineProperty(function(...D){if(typeof D[D.length-1]=="function")u.apply(this,D);else return new Promise((e,t)=>{u.call(this,...D,(n,r)=>n!=null?t(n):e(r))})},"name",{value:u.name})},Ku.fromPromise=function(u){return Object.defineProperty(function(...D){const e=D[D.length-1];if(typeof e!="function")return u.apply(this,D);u.apply(this,D.slice(0,-1)).then(t=>e(null,t),e)},"name",{value:u.name})};const re=Ju,ie=S.default,y=Qu.default,ru=process.platform==="win32";function oe(u){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{u[e]=u[e]||re[e],e=e+"Sync",u[e]=u[e]||re[e]}),u.maxBusyTries=u.maxBusyTries||3}function Hu(u,D,e){let t=0;typeof D=="function"&&(e=D,D={}),y(u,"rimraf: missing path"),y.strictEqual(typeof u,"string","rimraf: path should be a string"),y.strictEqual(typeof e,"function","rimraf: callback function required"),y(D,"rimraf: invalid options argument provided"),y.strictEqual(typeof D,"object","rimraf: options should be object"),oe(D),ae(u,D,function n(r){if(r){if((r.code==="EBUSY"||r.code==="ENOTEMPTY"||r.code==="EPERM")&&t<D.maxBusyTries){t++;const i=t*100;return setTimeout(()=>ae(u,D,n),i)}r.code==="ENOENT"&&(r=null)}e(r)})}function ae(u,D,e){y(u),y(D),y(typeof e=="function"),D.lstat(u,(t,n)=>{if(t&&t.code==="ENOENT")return e(null);if(t&&t.code==="EPERM"&&ru)return ce(u,D,t,e);if(n&&n.isDirectory())return gu(u,D,t,e);D.unlink(u,r=>{if(r){if(r.code==="ENOENT")return e(null);if(r.code==="EPERM")return ru?ce(u,D,r,e):gu(u,D,r,e);if(r.code==="EISDIR")return gu(u,D,r,e)}return e(r)})})}function ce(u,D,e,t){y(u),y(D),y(typeof t=="function"),D.chmod(u,438,n=>{n?t(n.code==="ENOENT"?null:e):D.stat(u,(r,i)=>{r?t(r.code==="ENOENT"?null:e):i.isDirectory()?gu(u,D,e,t):D.unlink(u,t)})})}function se(u,D,e){let t;y(u),y(D);try{D.chmodSync(u,438)}catch(n){if(n.code==="ENOENT")return;throw e}try{t=D.statSync(u)}catch(n){if(n.code==="ENOENT")return;throw e}t.isDirectory()?Bu(u,D,e):D.unlinkSync(u)}function gu(u,D,e,t){y(u),y(D),y(typeof t=="function"),D.rmdir(u,n=>{n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")?lr(u,D,t):n&&n.code==="ENOTDIR"?t(e):t(n)})}function lr(u,D,e){y(u),y(D),y(typeof e=="function"),D.readdir(u,(t,n)=>{if(t)return e(t);let r=n.length,i;if(r===0)return D.rmdir(u,e);n.forEach(a=>{Hu(ie.join(u,a),D,c=>{if(!i){if(c)return e(i=c);--r===0&&D.rmdir(u,e)}})})})}function le(u,D){let e;D=D||{},oe(D),y(u,"rimraf: missing path"),y.strictEqual(typeof u,"string","rimraf: path should be a string"),y(D,"rimraf: missing options"),y.strictEqual(typeof D,"object","rimraf: options should be object");try{e=D.lstatSync(u)}catch(t){if(t.code==="ENOENT")return;t.code==="EPERM"&&ru&&se(u,D,t)}try{e&&e.isDirectory()?Bu(u,D,null):D.unlinkSync(u)}catch(t){if(t.code==="ENOENT")return;if(t.code==="EPERM")return ru?se(u,D,t):Bu(u,D,t);if(t.code!=="EISDIR")throw t;Bu(u,D,t)}}function Bu(u,D,e){y(u),y(D);try{D.rmdirSync(u)}catch(t){if(t.code==="ENOTDIR")throw e;if(t.code==="ENOTEMPTY"||t.code==="EEXIST"||t.code==="EPERM")Fr(u,D);else if(t.code!=="ENOENT")throw t}}function Fr(u,D){if(y(u),y(D),D.readdirSync(u).forEach(e=>le(ie.join(u,e),D)),ru){const e=Date.now();do try{return D.rmdirSync(u,D)}catch{}while(Date.now()-e<500)}else return D.rmdirSync(u,D)}var fr=Hu;Hu.sync=le;const wu=Ju,dr=Ku.fromCallback,Fe=fr;function Er(u,D){if(wu.rm)return wu.rm(u,{recursive:!0,force:!0},D);Fe(u,D)}function Cr(u){if(wu.rmSync)return wu.rmSync(u,{recursive:!0,force:!0});Fe.sync(u)}var hr={remove:dr(Er),removeSync:Cr};const fe=async(u,D,e)=>{const t=await I.default.promises.lstat(D).catch(()=>null);if(t){if(t.isSymbolicLink()){const n=await I.default.promises.realpath(D).catch(()=>null);if(u===n)return}t.isDirectory()?await hr.remove(D):await I.default.promises.unlink(D)}await I.default.promises.symlink(u,D,e)},mr=async(u,D)=>{await fe(u,D),await I.default.promises.chmod(D,493)},pr=async(u,D,{name:e,bin:t},n)=>{if(!t)return[];e!=null&&e.startsWith("@")&&([,e]=e.split("/"));const r=S.default.join(D,".bin");if(await I.default.promises.mkdir(r,{recursive:!0}),typeof t=="string"){await n(S.default.resolve(u,t),S.default.join(r,e));return}await Promise.all(Object.entries(t).map(async([i,a])=>await n(S.default.resolve(u,a),S.default.join(r,i))))},yr="node_modules",gr=async(u,D)=>{const e=S.default.resolve(u,D),t=await Hn(e),n=S.default.join(u,yr),r=S.default.join(n,t.name),i=S.default.dirname(r);await I.default.promises.mkdir(i,{recursive:!0});const a=S.default.relative(i,e);return await fe(a,r,"dir"),await pr(e,n,t,process.platform==="win32"?Kn:mr),{name:t.name,path:r,target:a}},de=async(u,D,e)=>{const t=S.default.resolve(u,D);if(!await Fu(t)){console.warn(BD("\u2716"),`Package path does not exist: ${D}`),process.exitCode=1;return}try{const r=await gr(u,D);console.log(Jt("\u2714"),`Symlinked ${Vt(r.name)}:`,_u(r.path),"\u2192",_u(r.target))}catch(r){console.warn(BD("\u2716"),"Failed to symlink",_u(D),"with error:",r.message),process.exitCode=1;return}if(e){const r=await $D(t);r&&await Ee(t,r,{deep:e})}},Ee=async(u,D,e)=>{var t,n;if(!D.packages)return;const r=(n=(t=e.deep)!=null?t:D.deepLink)!=null?n:!1;await Promise.all(D.packages.map(async i=>await de(u,i,r)))};(async()=>{const u=Yt({name:"link",parameters:["[package paths...]"],flags:{deep:{type:Boolean,alias:"d",description:"Run `npx link` on dependencies if they have a link.config.json"}},help:{description:"A better `npm link` -- symlink local dependencies to the current project",render(n,r){return n[0].data=`npx link
`,n.splice(2,0,{type:"section",data:{title:"Website",body:"https://www.npmjs.com/package/link"}}),r.render(n)}}}),D=process.cwd(),{packagePaths:e}=u._;if(e.length>0){await Promise.all(e.map(n=>de(D,n,u.flags.deep)));return}const t=await $D(D);if(!t){console.warn(`Warning: Config file "link.config.json" not found in current directory.
         Read the documentation to learn more: https://www.npmjs.com/package/link
`),u.showHelp();return}await Ee(D,t,{deep:u.flags.deep})})().catch(u=>{console.error("Error:",u.message),process.exit(1)});
